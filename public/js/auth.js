(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{349:function(e,n,t){var a=t(516);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(89)(a,o);a.locals&&(e.exports=a.locals)},350:function(e,n,t){var a=t(518);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(89)(a,o);a.locals&&(e.exports=a.locals)},351:function(e,n,t){var a=t(521);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(89)(a,o);a.locals&&(e.exports=a.locals)},392:function(e,n,t){"use strict";var a=t(3),o=t(20),r={computed:Object(a.a)(Object(a.a)({},Object(o.c)({storage:function(e){return e.settings.storage.path}})),{},{getMainLogo:function(){return this.storage+"/custom/logo.png"},getLoginBg:function(){return this.storage+"/custom/login.jpg"}})},s=(t(515),t(47)),i=Object(s.a)(r,(function(){var e=this.$createElement,n=this._self._c||e;return n("section",{staticClass:"hero",style:"background-image: url("+this.getLoginBg+")"},[n("div",{staticClass:"card auth--box"},[n("div",{staticClass:"card-content"},[n("div",{staticClass:"auth--intro"},[n("img",{attrs:{src:this.getMainLogo,alt:"PetPassport"}}),this._v(" "),n("h4",[this._v("PetPassport.online")])]),this._v(" "),n("div",{staticClass:"auth--form"},[this._t("default")],2)])])])}),[],!1,null,"70c00e07",null);n.a=i.exports},515:function(e,n,t){"use strict";var a=t(349);t.n(a).a},516:function(e,n,t){(e.exports=t(88)(!1)).push([e.i,'[data-v-70c00e07].hero {\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: cover;\n  min-height: 100vh;\n  justify-content: center;\n  align-items: center;\n}\n[data-v-70c00e07].hero .auth--box {\n  width: 24.9em;\n  text-align: center;\n  background-color: rgba(255, 255, 255, 0.78);\n}\n[data-v-70c00e07].hero .auth--box .card-content {\n  padding-bottom: 0.5rem;\n}\n[data-v-70c00e07].hero .auth--box .auth--intro {\n  position: relative;\n  text-align: center;\n  padding: 2em 0 1.6em 0;\n}\n[data-v-70c00e07].hero .auth--box .auth--intro:before {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: -1.5rem;\n  width: calc(100% + 3rem);\n  height: 1px;\n  background: gainsboro;\n}\n[data-v-70c00e07].hero .auth--box .auth--intro img {\n  width: 21px;\n  height: 25px;\n  object-fit: cover;\n  margin-bottom: 1.28em;\n}\n[data-v-70c00e07].hero .auth--box .auth--intro h4 {\n  font-size: 0.88rem;\n  text-transform: uppercase;\n}',""])},517:function(e,n,t){"use strict";var a=t(350);t.n(a).a},518:function(e,n,t){(e.exports=t(88)(!1)).push([e.i,"[data-v-7abd0a1b] form {\n  padding-top: 1em;\n}\n[data-v-7abd0a1b] form .field p.help {\n  text-align: left;\n  font-size: 0.65rem;\n}\n[data-v-7abd0a1b] form .field .control .icon {\n  top: 9px;\n  width: 1.6rem;\n}\n[data-v-7abd0a1b] form .field .control .icon i {\n  color: var(--pink-swan);\n}\n[data-v-7abd0a1b] form .field .control .icon i:before {\n  font-size: 18px;\n}\n[data-v-7abd0a1b] form input,[data-v-7abd0a1b] form input.input {\n  background-color: transparent;\n  border: 1px solid transparent;\n  border-bottom-color: var(--pink-swan);\n  box-shadow: none;\n  border-radius: 0;\n  padding: 1rem 0 1rem 4px;\n  height: auto;\n  font-size: 0.8em;\n  width: 100%;\n}\n[data-v-7abd0a1b] form [type=submit] {\n  font-size: 0.8rem;\n  padding: 0.5rem 0;\n  height: auto;\n  margin-top: 2rem;\n}\n[data-v-7abd0a1b] form .auth--help {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n[data-v-7abd0a1b] form .auth--help .field {\n  margin: 0;\n}\n[data-v-7abd0a1b] form .auth--help a {\n  font-size: 0.75rem;\n}\n[data-v-7abd0a1b] form .auth--say {\n  margin: 0.7rem 0;\n  font-size: 0.75rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}",""])},520:function(e,n,t){"use strict";var a=t(351);t.n(a).a},521:function(e,n,t){(e.exports=t(88)(!1)).push([e.i,"[data-v-fa9a12ca] form {\n  padding-top: 1em;\n}\n[data-v-fa9a12ca] form .columns {\n  margin-bottom: 0;\n}\n[data-v-fa9a12ca] form .columns p.help {\n  position: absolute;\n}\n[data-v-fa9a12ca] form .field p.help {\n  text-align: left;\n  font-size: 0.65rem;\n}\n[data-v-fa9a12ca] form .field .control .icon {\n  top: 9px;\n  width: 1.6rem;\n}\n[data-v-fa9a12ca] form .field .control .icon i {\n  color: var(--pink-swan);\n}\n[data-v-fa9a12ca] form .field .control .icon i:before {\n  font-size: 18px;\n}\n[data-v-fa9a12ca] form input,[data-v-fa9a12ca] form input.input {\n  background-color: transparent;\n  border: 1px solid transparent;\n  border-bottom-color: var(--pink-swan);\n  box-shadow: none;\n  border-radius: 0;\n  padding: 1rem 0 1rem 4px;\n  height: auto;\n  font-size: 0.8em;\n  width: 100%;\n}\n[data-v-fa9a12ca] form .select {\n  height: auto;\n}\n[data-v-fa9a12ca] form .select select {\n  background-color: transparent;\n  border: 1px solid transparent;\n  border-bottom-color: var(--pink-swan);\n  box-shadow: none;\n  border-radius: 0;\n  padding: 1rem 0;\n  height: auto;\n  font-size: 0.8em;\n}\n[data-v-fa9a12ca] form .select select option {\n  padding: 0;\n}\n[data-v-fa9a12ca] form .select:not(.is-multiple):not(.is-loading):after {\n  height: 0.4em;\n  width: 0.4em;\n  right: 20px;\n  border-width: 2px;\n  margin-top: -0.25rem;\n}\n[data-v-fa9a12ca] form [type=submit] {\n  font-size: 0.8rem;\n  padding: 0.5rem 0;\n  height: auto;\n  margin-top: 2rem;\n}\n[data-v-fa9a12ca] form .auth--say {\n  margin: 0.7rem 0;\n  font-size: 0.75rem;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}",""])},531:function(e,n,t){"use strict";t.r(n);t(177);var a=t(0),o=t.n(a),r=t(178),s=(t(11),t(2)),i={data:function(){return{processing:!1,login:null,password:null,remember:!1,validation:{login:{type:null,message:null},password:{type:null,message:null}}}},components:{AuthLayout:t(392).a},methods:{typing:function(e){this.validation[e].type=null,this.validation[e].message=null},dangerValidation:function(e,n){this.validation[e].type="is-danger",this.validation[e].message=n},removeReadOnly:function(e){e.target.removeAttribute("readonly")},setReadOnly:function(e){e.target.setAttribute("readonly","readonly")},doLogin:function(){var e=this;return Object(s.a)(o.a.mark((function n(){var t,a,s,i,l,d,u,p;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.processing=!0,t=e.login,a=e.password,s=e.remember,n.prev=2,n.next=5,e.$store.dispatch("AUTH_REQUEST",{login:t,password:a,remember:s});case 5:e.$router.go(0),n.next=12;break;case 8:if(n.prev=8,n.t0=n.catch(2),void 0!==n.t0.response&&422===n.t0.response.status)for(i=0,l=Object.entries(n.t0.response.data.errors);i<l.length;i++)d=Object(r.a)(l[i],2),u=d[0],p=d[1],e.dangerValidation(u,p[0]);e.processing=!1;case 12:case"end":return n.stop()}}),n,null,[[2,8]])})))()}}},l=(t(517),t(47)),d=Object(l.a)(i,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AuthLayout",[t("form",{on:{submit:function(n){return n.preventDefault(),e.doLogin(n)}}},[t("b-field",{attrs:{type:e.validation.login.type,message:e.validation.login.message}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],attrs:{disabled:e.processing,placeholder:"Логин",type:"text",readonly:""},domProps:{value:e.login},on:{focus:function(n){return e.removeReadOnly(n)},blur:function(n){return e.setReadOnly(n)},input:[function(n){n.target.composing||(e.login=n.target.value)},function(n){return e.typing("login")}]}})]),e._v(" "),t("b-field",{attrs:{type:e.validation.password.type,message:e.validation.password.message}},[t("b-input",{attrs:{disabled:e.processing,placeholder:"Пароль",type:"password",readonly:"","password-reveal":""},on:{focus:function(n){return e.removeReadOnly(n)},blur:function(n){return e.setReadOnly(n)},input:function(n){return e.typing("password")}},model:{value:e.password,callback:function(n){e.password=n},expression:"password"}})],1),e._v(" "),t("div",{staticClass:"auth--help"},[t("b-field",[t("b-checkbox",{attrs:{size:"is-small",disabled:e.processing,value:e.remember}},[e._v("\n                    Запомнить меня\n                ")])],1),e._v(" "),t("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v("Забыли пароль?")])],1),e._v(" "),t("b-button",{attrs:{type:"is-primary","native-type":"submit",disabled:e.processing,loading:e.processing,expanded:""}},[e._v("\n            Войти\n        ")]),e._v(" "),t("div",{staticClass:"auth--say"},[t("span",[e._v("Еще не зарегистрированы?")]),e._v(" "),t("router-link",{attrs:{to:"/register"}},[e._v("Создать аккаунт")])],1)],1)])}),[],!1,null,"7abd0a1b",null);n.default=d.exports},532:function(e,n,t){"use strict";t.r(n);t(49),t(177);var a=t(0),o=t.n(a),r=t(178),s=(t(11),t(2)),i=t(392),l=t(519),d=JSON.parse(window.transferData),u={components:{AuthLayout:i.a},data:function(){return{processing:!1,categories:d.petCategories,userTypes:d.userTypes,user:{type:2,name:null,login:null,password:null,password_confirmation:null,email:null,pet_type:null},validation:{login:{type:null,message:null},email:{type:null,message:null},password:{type:null,message:null},name:{type:null,message:null},type:{type:null,message:null},pet_type:{type:null,message:null}}}},methods:{typing:function(e){this.validation[e].type=null,this.validation[e].message=null},dangerValidation:function(e,n){this.validation[e].type="is-danger",this.validation[e].message=n},removeReadOnly:function(e){e.target.removeAttribute("readonly")},setReadOnly:function(e){e.target.setAttribute("readonly","readonly")},doRegister:function(){var e=this;return Object(s.a)(o.a.mark((function n(){var t,a,s,i,l,d,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.processing=!0,t=e.user,a={type:t.type,name:t.name,login:t.login,password:t.password,password_confirmation:t.password_confirmation,email:t.email},3===t.type&&(delete a.email,a.pet_type=t.pet_type),n.prev=4,n.next=7,e.$store.dispatch("AUTH_REGISTER",a);case 7:e.$router.go(0),n.next=14;break;case 10:if(n.prev=10,n.t0=n.catch(4),void 0!==n.t0.response&&422===n.t0.response.status)for(s=0,i=Object.entries(n.t0.response.data.errors);s<i.length;s++)l=Object(r.a)(i[s],2),d=l[0],u=l[1],e.dangerValidation(d,u[0]);e.processing=!1;case 14:case"end":return n.stop()}}),n,null,[[4,10]])})))()}},watch:{"user.name":function(){this.user.login=Object(l.slugify)(this.user.name,{lowercase:!0,separator:"_"})}}},p=(t(520),t(47)),c=Object(p.a)(u,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("AuthLayout",[t("form",{on:{submit:function(n){return n.preventDefault(),e.doRegister(n)}}},[t("b-field",{attrs:{type:e.validation.type.type,message:e.validation.type.message}},[t("b-select",{attrs:{placeholder:"Выберите тип аккаунта",disabled:e.processing,expanded:""},on:{change:function(n){return e.typing("type")}},model:{value:e.user.type,callback:function(n){e.$set(e.user,"type",n)},expression:"user.type"}},e._l(e.userTypes,(function(n){return t("option",{key:n.id,domProps:{value:n.id}},[e._v("\n                    "+e._s(n.name)+"\n                ")])})),0)],1),e._v(" "),t("b-field",{attrs:{type:e.validation.name.type,message:e.validation.name.message}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{disabled:e.processing,placeholder:3===e.user.type?"Кличка":"Имя",type:"text"},domProps:{value:e.user.name},on:{input:[function(n){n.target.composing||e.$set(e.user,"name",n.target.value)},function(n){return e.typing("name")}]}})]),e._v(" "),3===e.user.type?t("b-field",{attrs:{type:e.validation.pet_type.type,message:e.validation.pet_type.message}},[t("b-select",{attrs:{placeholder:"Выберите вид питомца",disabled:e.processing,expanded:""},on:{change:function(n){return e.typing("pet_type")}},model:{value:e.user.pet_type,callback:function(n){e.$set(e.user,"pet_type",n)},expression:"user.pet_type"}},e._l(e.categories,(function(n){return t("option",{key:n.id},[e._v("\n                    "+e._s(n.name)+"\n                ")])})),0)],1):e._e(),e._v(" "),t("b-field",{attrs:{type:e.validation.login.type,message:e.validation.login.message}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.login,expression:"user.login"}],attrs:{disabled:e.processing,placeholder:"Логин",type:"text",readonly:""},domProps:{value:e.user.login},on:{focus:function(n){return e.removeReadOnly(n)},blur:function(n){return e.setReadOnly(n)},input:[function(n){n.target.composing||e.$set(e.user,"login",n.target.value)},function(n){return e.typing("login")}]}})]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("b-field",{attrs:{type:e.validation.password.type,message:e.validation.password.message}},[t("b-input",{attrs:{disabled:e.processing,placeholder:"Пароль",type:"password","password-reveal":"",readonly:""},on:{focus:function(n){return e.removeReadOnly(n)},blur:function(n){return e.setReadOnly(n)},input:function(n){return e.typing("password")}},model:{value:e.user.password,callback:function(n){e.$set(e.user,"password",n)},expression:"user.password"}})],1)],1),e._v(" "),t("div",{staticClass:"column"},[t("b-field",[t("b-input",{attrs:{disabled:e.processing,placeholder:"Подтвердите пароль",type:"password","password-reveal":"",readonly:""},on:{focus:function(n){return e.removeReadOnly(n)},blur:function(n){return e.setReadOnly(n)}},model:{value:e.user.password_confirmation,callback:function(n){e.$set(e.user,"password_confirmation",n)},expression:"user.password_confirmation"}})],1)],1)]),e._v(" "),3!==e.user.type?t("b-field",{attrs:{type:e.validation.email.type,message:e.validation.email.message}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{disabled:e.processing,placeholder:"Email",type:"email",readonly:""},domProps:{value:e.user.email},on:{focus:function(n){return e.removeReadOnly(n)},blur:function(n){return e.setReadOnly(n)},input:[function(n){n.target.composing||e.$set(e.user,"email",n.target.value)},function(n){return e.typing("email")}]}})]):e._e(),e._v(" "),t("b-button",{attrs:{type:"is-primary","native-type":"submit",disabled:e.processing,loading:e.processing,expanded:""}},[e._v("\n            Создать профиль\n        ")]),e._v(" "),t("div",{staticClass:"auth--say"},[t("span",[e._v("Есть аккаунт?")]),e._v(" "),t("router-link",{attrs:{to:"/login"}},[e._v("Войти")])],1)],1)])}),[],!1,null,"fa9a12ca",null);n.default=c.exports}}]);